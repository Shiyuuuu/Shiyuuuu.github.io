{"meta":{"title":"Shiyu's Blog","subtitle":"Learn to live.","description":null,"author":"Shiyu","url":"https://shiyuuuu.github.io","root":"/"},"pages":[{"title":"关于","date":"2020-06-16T14:25:04.285Z","updated":"2020-06-16T14:25:04.285Z","comments":true,"path":"about/index.html","permalink":"https://shiyuuuu.github.io/about/index.html","excerpt":"","text":"一枚CS小学生。"},{"title":"所有分类","date":"2020-06-16T14:35:16.334Z","updated":"2020-06-16T14:35:16.334Z","comments":true,"path":"categories/index.html","permalink":"https://shiyuuuu.github.io/categories/index.html","excerpt":"","text":""},{"title":"404 Not Found","date":"2020-06-16T14:38:40.429Z","updated":"2020-06-16T14:38:40.429Z","comments":true,"path":"404.html","permalink":"https://shiyuuuu.github.io/404.html","excerpt":"","text":"404 很抱歉，您访问的页面不存在 可能是输入地址有误或该地址已被删除"},{"title":"所有标签","date":"2020-06-16T14:40:26.972Z","updated":"2020-06-16T14:40:26.972Z","comments":true,"path":"tags/index.html","permalink":"https://shiyuuuu.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ubuntu 踩坑记录","slug":"ubuntu踩坑记录","date":"2021-03-25T16:00:00.000Z","updated":"2021-03-26T10:00:08.290Z","comments":true,"path":"2021/03/26/ubuntu踩坑记录/","link":"","permalink":"https://shiyuuuu.github.io/2021/03/26/ubuntu%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/","excerpt":"ubuntu 踩坑记录显卡驱动重装某次装好后，遇到bug： Can’t run remote python interpreter: OCI runtime create failed: container_linux.go:367: starting container process caused: process_linux.go:495: container init caused: Running hook #1:: error running hook: exit status 1, stdout: , stderr: nvidia-container-cli: initialization error: driver error: failed to process request: unknown","text":"ubuntu 踩坑记录显卡驱动重装某次装好后，遇到bug： Can’t run remote python interpreter: OCI runtime create failed: container_linux.go:367: starting container process caused: process_linux.go:495: container init caused: Running hook #1:: error running hook: exit status 1, stdout: , stderr: nvidia-container-cli: initialization error: driver error: failed to process request: unknown docker 里nvidia-smi不能用了，直接在docker外nvidia-smi也报错： NVIDIA-SMI couldn’t find libnvidia-ml.so library in your system. Please make sure that the NVIDIA Display Driver is properly installed and present in your system. Please also try adding directory that contains libnvidia-ml.so to your system PATH. 估计是什么时候update弄成的。 解决方法：重装显卡驱动 1234567891011121314151617181920212223# BTW this is all in console mode (for me, alt+ctrl+F2)# login + password as usual# removing ALL nvidia software$ sudo apt-get purge nvidia* # Checking what's left:$ dpkg -l | grep nvidia# Then I deleted the ones that showed up (mostly libnvidia-* but also xserver-xorg-video-nvidia-xxx`)$ sudo apt-get purge libnvidia* xserver-xorg-video-nvidia-440 $ sudo apt autoremove # clean it up# now reinstall everything including nvidia-common$ sudo apt-get nvidia-common# find the right driver again$ sudo add-apt-repository ppa:graphics-drivers/ppa$ sudo apt update$ ubuntu-drivers devices$ sudo apt-get install nvidia-driver-460 # the recommended one by ubuntu-drivers$ update-initramfs -u # needed to do this so rebooting wouldn't lose configuration I think$ sudo reboot 然后再重装NVIDIA-docker： 1234567$curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -$curl -s -L https://nvidia.github.io/nvidia-docker/ubuntu18.04/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list$sudo apt-get update$sudo apt-get install nvidia-docker2$sudo pkill -SIGHUP dockerd$docker run --runtime=nvidia --rm nvidia/cuda nvidia-smi 测试： 1sudo nvidia-docker run --rm nvidia/cuda:10.1-devel nvidia-smi 万幸CUDA, CuDNN都还有。 123456&gt;&gt;&gt; import torch&gt;&gt;&gt; torch.cuda.is_available()True&gt;&gt;&gt; a=torch.randn(1,2)&gt;&gt;&gt; a.cuda()tensor([[-0.4678, 0.1525]], device='cuda:0') 配置默认运行的是nvidia-docker 而不是 docker (https://zhuanlan.zhihu.com/p/37519492)，在/etc/docker/daemon.json 文件中配置如下内容： 12345678910&#123; &quot;default-runtime&quot;: &quot;nvidia&quot;, &quot;runtimes&quot;: &#123; &quot;nvidia&quot;: &#123; &quot;path&quot;: &quot;&#x2F;usr&#x2F;bin&#x2F;nvidia-container-runtime&quot;, &quot;runtimeArgs&quot;: [], &quot;registry-mirrors&quot;: [&quot;https:&#x2F;&#x2F;gemfield.mirror.aliyuncs.com&quot;] &#125; &#125;&#125; pycharm里用dockerpython 位置：/home/shiyuuuu/anaconda3/bin/python","categories":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://shiyuuuu.github.io/categories/ubuntu/"},{"name":"bug","slug":"ubuntu/bug","permalink":"https://shiyuuuu.github.io/categories/ubuntu/bug/"}],"tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://shiyuuuu.github.io/tags/ubuntu/"},{"name":"bug","slug":"bug","permalink":"https://shiyuuuu.github.io/tags/bug/"},{"name":"docker","slug":"docker","permalink":"https://shiyuuuu.github.io/tags/docker/"}]},{"title":"阅读论文 “Large Scale Image Segmentation with Structured Loss based Deep Learning forConnectome Reconstruction” （MALA-TPAMI18)","slug":"阅读论文 MALA-TPAMI","date":"2020-05-17T13:49:46.000Z","updated":"2020-05-17T10:01:07.434Z","comments":true,"path":"2020/05/17/阅读论文 MALA-TPAMI/","link":"","permalink":"https://shiyuuuu.github.io/2020/05/17/%E9%98%85%E8%AF%BB%E8%AE%BA%E6%96%87%20MALA-TPAMI/","excerpt":"","text":"tag：EM，分割，神经元 特点：既可以用在isotropic block-face EM data，又可以用在 anisotropic serial sectioned EM data task是神经元分割 输出是边界概率 结合了亲和图预测 3D unet：预测voxels之间的亲和图，然后是迭代区域聚集 用3D U-Net预测3D 亲和图(affinity graphs)，loss是基于MALIS的structured loss，来最小化拓扑误差 改进原来的MALIS loss function：在所有predicted的亲和图上预测梯度，而不是稀疏得采样。这样使得梯度计算更快更dense 并且分两遍计算MALIS损失：在正遍中，将GT区域之间和GT区域外的亲和图限制为0；在负遍中，将区域内的亲和图设置为1。","categories":[],"tags":[{"name":"Segmentation","slug":"Segmentation","permalink":"https://shiyuuuu.github.io/tags/Segmentation/"}]},{"title":"200517","slug":"200517","date":"2020-05-17T09:23:13.000Z","updated":"2020-06-16T14:55:01.920Z","comments":true,"path":"2020/05/17/200517/","link":"","permalink":"https://shiyuuuu.github.io/2020/05/17/200517/","excerpt":"","text":"","categories":[{"name":"hello","slug":"hello","permalink":"https://shiyuuuu.github.io/categories/hello/"},{"name":"分类C","slug":"分类C","permalink":"https://shiyuuuu.github.io/categories/%E5%88%86%E7%B1%BBC/"},{"name":"分类D","slug":"分类C/分类D","permalink":"https://shiyuuuu.github.io/categories/%E5%88%86%E7%B1%BBC/%E5%88%86%E7%B1%BBD/"},{"name":"b","slug":"hello/b","permalink":"https://shiyuuuu.github.io/categories/hello/b/"}],"tags":[{"name":"Segmentation","slug":"Segmentation","permalink":"https://shiyuuuu.github.io/tags/Segmentation/"},{"name":"brain","slug":"brain","permalink":"https://shiyuuuu.github.io/tags/brain/"}]},{"title":"200517","slug":"阅读论文 “Large Scale Image Segmentation with Structured Loss based Deep Learning forConnectome Reconstruction” （MALA-TPAMI","date":"2020-05-17T09:23:13.000Z","updated":"2020-06-16T13:23:38.610Z","comments":true,"path":"2020/05/17/阅读论文 “Large Scale Image Segmentation with Structured Loss based Deep Learning forConnectome Reconstruction” （MALA-TPAMI/","link":"","permalink":"https://shiyuuuu.github.io/2020/05/17/%E9%98%85%E8%AF%BB%E8%AE%BA%E6%96%87%20%E2%80%9CLarge%20Scale%20Image%20Segmentation%20with%20Structured%20Loss%20based%20Deep%20Learning%20forConnectome%20Reconstruction%E2%80%9D%20%EF%BC%88MALA-TPAMI/","excerpt":"Connectome Reconstruction” （MALA-TPAMI 2018）","text":"Connectome Reconstruction” （MALA-TPAMI 2018） tag：EM，分割，神经元 特点：既可以用在isotropic block-face EM data，又可以用在 anisotropic serial sectioned EM data task是神经元分割 输出是边界概率 结合了亲和图预测 3D unet：预测voxels之间的亲和图，然后是迭代区域聚集 dsresults 用3D U-Net预测3D 亲和图(affinity graphs)，loss是基于MALIS的structured loss，来最小化拓扑误差 改进原来的MALIS loss function：在所有predicted的亲和图上预测梯度，而不是稀疏得采样。这样使得梯度计算更快更dense 并且分两遍计算MALIS损失：在正遍中，将GT区域之间和GT区域外的亲和图限制为0；在负遍中，将区域内的亲和图设置为1。","categories":[],"tags":[{"name":"Segmentation","slug":"Segmentation","permalink":"https://shiyuuuu.github.io/tags/Segmentation/"},{"name":"brain","slug":"brain","permalink":"https://shiyuuuu.github.io/tags/brain/"}]},{"title":"Hello World","slug":"hello-world","date":"2020-05-09T13:41:20.400Z","updated":"2020-06-16T14:48:25.588Z","comments":true,"path":"2020/05/09/hello-world/","link":"","permalink":"https://shiyuuuu.github.io/2020/05/09/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"hello","slug":"hello","permalink":"https://shiyuuuu.github.io/categories/hello/"},{"name":"a","slug":"hello/a","permalink":"https://shiyuuuu.github.io/categories/hello/a/"}],"tags":[]}],"categories":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://shiyuuuu.github.io/categories/ubuntu/"},{"name":"bug","slug":"ubuntu/bug","permalink":"https://shiyuuuu.github.io/categories/ubuntu/bug/"},{"name":"hello","slug":"hello","permalink":"https://shiyuuuu.github.io/categories/hello/"},{"name":"分类C","slug":"分类C","permalink":"https://shiyuuuu.github.io/categories/%E5%88%86%E7%B1%BBC/"},{"name":"分类D","slug":"分类C/分类D","permalink":"https://shiyuuuu.github.io/categories/%E5%88%86%E7%B1%BBC/%E5%88%86%E7%B1%BBD/"},{"name":"b","slug":"hello/b","permalink":"https://shiyuuuu.github.io/categories/hello/b/"},{"name":"a","slug":"hello/a","permalink":"https://shiyuuuu.github.io/categories/hello/a/"}],"tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://shiyuuuu.github.io/tags/ubuntu/"},{"name":"bug","slug":"bug","permalink":"https://shiyuuuu.github.io/tags/bug/"},{"name":"docker","slug":"docker","permalink":"https://shiyuuuu.github.io/tags/docker/"},{"name":"Segmentation","slug":"Segmentation","permalink":"https://shiyuuuu.github.io/tags/Segmentation/"},{"name":"brain","slug":"brain","permalink":"https://shiyuuuu.github.io/tags/brain/"}]}